<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Product</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/theme.css">
<style>
body{font-family:Arial;margin:0}
.images img{width:100%;margin-bottom:10px}
.box{padding:15px}
.price{font-size:20px;font-weight:bold}
.old{text-decoration:line-through;color:#999}
.off{color:red}
button{
  width:100%;padding:15px;
  border:none;margin-top:10px;
  font-size:16px
}
.cart{background:#000;color:#fff}
.buy{background:green;color:#fff}
</style>
</head>

<body>

<div class="images" id="imgBox"></div>

<div class="box">
  <h2 id="pname"></h2>
  <div id="cat"></div>
  <div class="price" id="fp"></div>
  <div class="old" id="op"></div>
  <div class="off" id="off"></div>

  <p id="desc"></p>
  <p id="ret"></p>
  <p id="war"></p>

  <button class="cart" onclick="addCart()">Add to Cart</button>
  <button class="buy" onclick="buyNow()">Buy on WhatsApp</button>
</div>

<script>
let products=JSON.parse(localStorage.getItem("products")||"[]");
let cart=JSON.parse(localStorage.getItem("cart")||"[]");
let id=localStorage.getItem("viewProduct");
let p=products.find(x=>x.id==id);

if(!p){document.body.innerHTML="Product not found";}

p.images.forEach(i=>{
  imgBox.innerHTML+=`<img src="${i}">`;
});

pname.innerText=p.name;
desc.innerText=p.desc||"";
fp.innerText="₹"+p.finalPrice;
op.innerText=p.offer?"₹"+p.price:"";
off.innerText=p.offer?p.offer+"% OFF":"";
cat.innerText=p.category;

ret.innerText=p.return=="yes"
 ? "Return in "+p.returnDays+" days"
 : "No Return";

war.innerText=p.warranty=="yes"
 ? "Warranty: "+p.warrantyTime
 : "No Warranty";

function addCart(){
 cart.push(p);
 localStorage.setItem("cart",JSON.stringify(cart));
 alert("Added to cart");
}

function buyNow(){
 let msg=`Order Details:%0A
Product: ${p.name}%0A
Price: ₹${p.finalPrice}%0A
Category: ${p.category}`;
 window.open("https://wa.me/919296466519?text="+msg);
}
</script>

</body>
</html>
