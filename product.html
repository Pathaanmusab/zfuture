<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Product Details</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="css/theme.css">

<style>
body{
  background:#f5f5f5;
  font-family:Arial, sans-serif;
  margin:0;
}

.product-page{
  max-width:1100px;
  margin:auto;
  padding:15px;
  background:#fff;
}

/* IMAGE GALLERY */
.gallery{
  display:flex;
  gap:10px;
}
.thumbs{
  width:80px;
}
.thumbs img{
  width:100%;
  margin-bottom:8px;
  cursor:pointer;
  border:1px solid #ccc;
}
.main-img{
  flex:1;
}
.main-img img{
  width:100%;
}

/* INFO */
.info h2{
  margin:10px 0;
}
.old{
  text-decoration:line-through;
  color:#888;
}
.price{
  font-size:22px;
  color:#e60000;
  font-weight:bold;
}
.offer{
  background:red;
  color:#fff;
  display:inline-block;
  padding:4px 8px;
  margin-bottom:10px;
}

/* BUTTONS */
.buttons{
  margin-top:15px;
}
.buttons button{
  padding:12px;
  width:48%;
  border:none;
  font-size:16px;
  cursor:pointer;
}
.buy{
  background:#ff9f00;
}
.cart{
  background:#fb641b;
  color:#fff;
}

/* EXTRA */
.section{
  margin-top:20px;
}
.section h3{
  border-bottom:1px solid #ddd;
  padding-bottom:5px;
}
</style>
</head>

<body>

<div class="product-page">
  <div class="gallery">
    <div class="thumbs" id="thumbs"></div>
    <div class="main-img">
      <img id="mainImg">
    </div>
  </div>

  <div class="info">
    <div class="offer" id="offerBox"></div>
    <h2 id="pName"></h2>
    <div class="old" id="oldPrice"></div>
    <div class="price" id="newPrice"></div>

    <div class="buttons">
      <button class="buy">Buy Now</button>
      <button class="cart">Add to Cart</button>
    </div>
  </div>

  <div class="section">
    <h3>Description</h3>
    <p id="desc"></p>
  </div>

  <div class="section">
    <h3>Warranty</h3>
    <p id="warranty"></p>
  </div>

  <div class="section">
    <h3>Return Policy</h3>
    <p id="return"></p>
  </div>
</div>

<script>
let products = JSON.parse(localStorage.getItem("products") || "[]");
let id = localStorage.getItem("viewProduct");
let p = products.find(x=>x.id===id);

if(!p){
  document.body.innerHTML="Product not found";
}

document.getElementById("pName").innerText = p.name;
document.getElementById("oldPrice").innerText = "₹"+p.price;
document.getElementById("newPrice").innerText = "₹"+p.finalPrice;
document.getElementById("desc").innerText = p.desc || "";
document.getElementById("warranty").innerText = p.warranty || "No warranty info";
document.getElementById("return").innerText = p.return || "No return info";

if(p.offer){
  document.getElementById("offerBox").innerText = p.offer+"% OFF";
}else{
  document.getElementById("offerBox").style.display="none";
}

let thumbs = document.getElementById("thumbs");
let mainImg = document.getElementById("mainImg");

p.images.forEach((img,i)=>{
  thumbs.innerHTML += `<img src="${img}" onclick="mainImg.src='${img}'">`;
  if(i===0) mainImg.src = img;
});
</script>

</body>
</html>
